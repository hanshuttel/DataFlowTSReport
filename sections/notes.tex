\documentclass[../../master.tex]{subfiles}
\begin{document}
\section{Notes}
If we remove $\Upsilon$, as $\kappa$ is already stored as a part of the type in $\Gamma$, then we could do the following:

\begin{align*}
	let\;x\;&(ref\;(10))\;(\\
			  & let\;y\;(let\;z\;(x)\;(z))\;(\\
			  &\alpha)\\
			  &)
\end{align*}

\begin{itemize}
	\item $\Gamma=[\nu\;x\mapsto(\emptyset,\emptyset),x\mapsto(\emptyset,\{\nu x\}), z\mapsto(\{x\},\{\nu x\}),y\mapsto(\{z,x\},\{\nu x\})]$
	\item If $\alpha$ is
	\begin{itemize}
		\item $\alpha=x$ then the type is $(\{x\},\{\nu x\})$
		\item $\alpha=y$ then the type is $(\{z,x,y\},\{\nu x\})$
		\item Thus $!\alpha$ would be $(\{x, \nu x\},\emptyset)$ or $(\{z,x,y,\nu x\},\emptyset)$
	\end{itemize}
\end{itemize}

The new type rule for \runa{ref-read}:
\begin{figure}[H]
	\setlength\tabcolsep{8pt}
	\begin{tabular}{l}
		\InfName{Ref-read}\\[0.2cm]
			\inference[]
				{\Gamma;\Upsilon;\Pi\vdash  e^{p}:(\delta,\kappa)}
				{\Gamma;\Upsilon;\Pi\vdash [!e^{p}]^{p'}:(\delta\cup\delta',\kappa')}\\
Where $(\delta',\kappa')=\bigcup_{\nu x\in\kappa}(\Gamma(\nu x^{p''}))$, \\and where $p''=\Lambda(x,p')$\\[1cm]
	\end{tabular}
\end{figure}

\end{document}
